!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="javascripts/",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";var n=i(2);n.EditForm={settings:{fieldsSelector:".field:not(#title-field)",livePreviewEditorSelector:".lp-editor",elementEditorSelector:".elementeditor",entryTypeSelectSelector:"#entryType",lightswitchContainerSelector:".lightswitch",positionSelectContainerSelector:".btngroup"},init:function(){if(this.sectionId=parseInt($('input[type="hidden"][name="sectionId"]').val()),!this.sectionId)return!1;if(this.$entryTypeSelect=$(this.settings.entryTypeSelectSelector),0===this.$entryTypeSelect.length){var t=n.getEntryTypeIdsBySectionId(this.sectionId);this.entryTypeId=t&&t.length>0?t.shift():!1}else this.entryTypeId=this.$entryTypeSelect.val();Craft.livePreview&&(Craft.livePreview.on("enter",$.proxy(this.onLivePreviewEnter,this)),Craft.livePreview.on("exit",$.proxy(this.onLivePreviewExit,this))),this.currentUrl=window.location.href,$(document).ajaxComplete($.proxy(this.onAjaxComplete,this)),$(document).on("click",this.settings.fieldsSelector+'[data-toggle="1"]',$.proxy(this.onInputWrapperClick,this)).on("change keyup",this.settings.fieldsSelector+'[data-toggle="1"] *:input',$.proxy(this.onFieldInputChange,this)),this.render()},render:function(){this.initToggleFields()&&this.evaluateConditionals()},getFieldsSelector:function(){var t=[this.settings.fieldsSelector];return this.isLivePreview?t.unshift(this.settings.livePreviewEditorSelector):this.isElementEditor&&t.unshift(this.settings.elementEditorSelector),t.join(" ")},initToggleFields:function(){var t=n.getConditionalsDataByEntryTypeId(this.entryTypeId);if(!t||t.sectionId!=this.sectionId||t.typeId!=this.entryTypeId||!t.conditionals)return!1;if(this.conditionals=t.conditionals,this.$fields=$(this.getFieldsSelector()),0===this.$fields.length)return!1;var e=[];for(o in this.conditionals)for(var i=0;i<this.conditionals[o].length;++i)e.push(this.conditionals[o][i][0].fieldId);var r,s,o,d=this;return this.$fields.each(function(){r=$(this),void 0!==r.attr("id")&&(s=r.attr("id").split("-")[1]||!1,o=n.getFieldIdByHandle(s),o&&r.attr("data-id",o),d.conditionals[o]&&r.attr("data-target",1),e.indexOf(parseInt(o))>-1&&r.attr("data-toggle",1))}),!0},evaluateConditionals:function(){var t,e,i,r,s,o,d,a,l,c=this,h=$(this.getFieldsSelector()+'[data-target="1"]');h.removeClass("reasonsHide").each(function(){if(t=$(this),e=c.conditionals[t.data("id")]||!1){for(var h=e.length,u=h,f=0;h>f;++f){i=!0,r=e[f];for(var p=0;p<r.length;++p)if(s=r[p],o=$(c.getFieldsSelector()+'[data-id="'+s.fieldId+'"]'),0!==o.length){switch(a=n.getToggleFieldById(s.fieldId),l=null,a.type){case"Lightswitch":d=o.find("*:input:first"),d.length>0&&(l="1"===d.val()?"true":"false");break;case"Checkboxes":case"RadioButtons":l=o.find("input:checkbox:checked,input:radio:checked").map(function(){return $(this).val()}).get();break;default:d=o.find("*:input:first"),l=d.val()}switch($.isArray(l)&&(l=l.join("")),$.isArray(s.value)&&(s.value=s.value.join("")),s.compare){case"!=":l==s.value&&(i=!1);break;case"==":default:l!=s.value&&(i=!1)}if(!i){u--;break}}}0>=u&&t.addClass("reasonsHide")}})},onAjaxComplete:function(t,e,i){return i.url.indexOf("switchEntryType")>-1?(this.entryTypeId=this.$entryTypeSelect.val(),void this.render()):!1},onLivePreviewEnter:function(){this.isLivePreview=!0,this.render()},onLivePreviewExit:function(){this.isLivePreview=!1,this.render()},onElementEditorShow:function(){this.isElementEditor=!0,this.render()},onElementEditorHide:function(){this.isElementEditor=!1,this.render()},onInputWrapperClick:function(t){$(t.currentTarget).find("input:first").trigger("change")},onFieldInputChange:function(t){this.evaluateConditionals()}},window.$&&$(function(){n.EditForm.init()})},function(t,e){"use strict";var i=e;window.$&&$(function(){i.data=window._ReasonsData||!1}),i.getToggleFields=function(){return i.data.toggleFields||[]},i.getToggleFieldById=function(t){t=parseInt(t);for(var e=i.getToggleFields(),n=e.length,r=0;n>r;++r)if(parseInt(e[r].id)===t)return e[r];return!1},i.getConditionalsDataByEntryTypeId=function(t){for(var e,n=0;n<i.data.conditionals.length;++n)if(e=i.data.conditionals[n],e.typeId==t)return e;return!1},i.getEntryTypeIdsBySectionId=function(t){return i.data.entryTypeIds&&i.data.entryTypeIds.hasOwnProperty(t)?i.data.entryTypeIds[t]:!1},i.getFieldIdByHandle=function(t){return i.data.fieldIds&&i.data.fieldIds.hasOwnProperty(t)?i.data.fieldIds[t]:!1}}]);